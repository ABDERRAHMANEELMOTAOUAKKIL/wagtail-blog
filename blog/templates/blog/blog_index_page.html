{% comment %} {%extends 'base.html'%} {% endcomment %}
<!-- Load wagtailimages_tags: -->
{% load wagtailcore_tags wagtailimages_tags %}

{% comment %} <form method="get" action="">
    <input type="text" name="q" placeholder="Search">
    <button "btn btn-primary" type="submit">Search</button>
</form> {% endcomment %}
  <form method="get" up-autosubmit="{form: '#search-form', target: '#task-list-container'}" id="search-form">
        <div class="input-group mb-3">
            <input type="text" class="form-control" name="query" placeholder="Search tasks..." value="{{ request.GET.query }}">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="submit">Search</button>
            </div>
        </div>
    </form>
<!-- Modify this: -->
<div  id="task-list-container">
{% for post in blogpages %} {% with post=post.specific %}
<h2><a href="{% pageurl post %}">{{ post.title }}</a></h2>

<!-- Add this: -->
{% with post.main_image as main_image %} {% if main_image %} {% image main_image fill-160x100 %} {% endif %} {% endwith %}

<p>{{ post.intro}}</p>
{{ post.body|richtext}} {% endwith %} {% endfor %}

<!-- Paginattion -->
{% comment %} <div class="pagination" style="text-align: center; margin-top: 20px;">
    <ul class="pagination-list" style="list-style: none; padding: 0; display: inline-block;">
        {% if blogpages.has_previous %}
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page=1" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;">&laquo; First</a>
        </li>
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.previous_page_number }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;">Previous</a>
        </li>
        {% endif %}

        <li class="pagination-item" style="display: inline-block; margin: 0 10px; font-weight: bold;">
            Page {{ blogpages.number }} of {{ blogpages.paginator.num_pages }}
        </li>

        {% if blogpages.has_next %}
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.next_page_number }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;">Next</a>
        </li>
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.paginator.num_pages }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;">Last &raquo;</a>
        </li>
        {% endif %}
    </ul>
</div> {% endcomment %}

<!-- Paginattion unpolly -->
<div class="pagination" style="text-align: center; margin-top: 20px;">
    <ul class="pagination-list" style="list-style: none; padding: 0; display: inline-block;">
        {% if blogpages.has_previous %}
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page=1" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;" [up-follow]="#task-list-container">&laquo; First</a>
        </li>
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.previous_page_number }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;" [up-follow]="#task-list-container">Previous</a>
        </li>
        {% endif %}

        <li class="pagination-item" style="display: inline-block; margin: 0 10px; font-weight: bold;">
            Page {{ blogpages.number }} of {{ blogpages.paginator.num_pages }}
        </li>

        {% if blogpages.has_next %}
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.next_page_number }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;" [up-follow]="#task-list-container">Next</a>
        </li>
        <li class="pagination-item" style="display: inline-block; margin: 0 5px;">
            <a href="?page={{ blogpages.paginator.num_pages }}" class="pagination-link" style="text-decoration: none; padding: 5px 10px; background-color: #007bff; color: #fff; border-radius: 4px;" [up-follow]="#task-list-container">Last &raquo;</a>
        </li>
        {% endif %}
    </ul>
</div>

</div>